:root {
  --zoom: 1;
  --easing: 0.08;
  --grid-size: 24;
}

html,
body {
  height: 100%;
  margin: 0;
  overflow: hidden;
  background: #0c0e1a;
  font-family: ui-sans-serif, system-ui;
  position: relative;
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  background:
    /* warm nebula clouds — large drifting blobs */
    radial-gradient(ellipse 80% 60% at 25% 35%, rgba(227,107,46,0.28) 0%, transparent 70%),
    radial-gradient(ellipse 70% 80% at 75% 65%, rgba(212,66,38,0.22) 0%, transparent 65%),
    radial-gradient(ellipse 90% 50% at 50% 20%, rgba(255,230,102,0.18) 0%, transparent 60%),
    radial-gradient(ellipse 60% 90% at 80% 30%, rgba(112,184,216,0.20) 0%, transparent 55%),
    radial-gradient(ellipse 80% 70% at 20% 75%, rgba(255,140,66,0.22) 0%, transparent 60%),
    radial-gradient(ellipse 50% 60% at 60% 85%, rgba(135,206,235,0.15) 0%, transparent 50%),
    /* deep cosmic base */
    radial-gradient(ellipse at 50% 50%, #1e1228 0%, #0c0e1a 100%);
  background-size:
    200% 200%,
    200% 200%,
    200% 200%,
    250% 250%,
    200% 200%,
    250% 250%,
    100% 100%;
  animation: cosmicDrift var(--bg-speed, 25s) ease-in-out infinite;
}

@keyframes cosmicDrift {
  0% {
    background-position:
      0% 0%, 100% 100%, 50% 0%, 100% 0%, 0% 100%, 80% 80%, center;
  }
  33% {
    background-position:
      40% 60%, 60% 30%, 80% 50%, 20% 70%, 60% 40%, 30% 20%, center;
  }
  66% {
    background-position:
      80% 30%, 20% 70%, 30% 80%, 70% 40%, 40% 20%, 60% 60%, center;
  }
  100% {
    background-position:
      0% 0%, 100% 100%, 50% 0%, 100% 0%, 0% 100%, 80% 80%, center;
  }
}

body::after {
  content: '';
  position: fixed;
  inset: 0;
  /* faint warm haze overlay */
  background:
    radial-gradient(ellipse 120% 80% at 30% 40%, rgba(255,165,80,0.08) 0%, transparent 70%),
    radial-gradient(ellipse 100% 120% at 70% 60%, rgba(100,150,255,0.06) 0%, transparent 70%);
  mix-blend-mode: screen;
  pointer-events: none;
  animation: hazeShift 35s ease-in-out infinite alternate;
}

@keyframes hazeShift {
  0% { opacity: 0.8; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.05); }
  100% { opacity: 0.8; transform: scale(1); }
}

#_gg_stage {
  position: fixed;
  top: 0;
  left: 0;
  min-height: 100vh;
  width: 100vw;
  overflow: hidden;
  isolation: isolate;
  z-index: 0;
  pointer-events: none;
}

#_gg_canvas1,
#_gg_canvas2,
#_gg_grain {
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: block;
}

#_gg_canvas1 {
  z-index: 1;
}

#_gg_canvas2 {
  z-index: 2;
}

#_gg_grain {
  z-index: 3;
  pointer-events: none;
  opacity: 0.05;
  background-image: url('assets/img/grain2.jpeg');
  background-size: 200px 200px;
  background-repeat: repeat;
  mix-blend-mode: overlay;
}

.viewport {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  user-select: none;
  touch-action: none;
  z-index: 10;
}

#_gg_grain_overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  opacity: 0.05;
  background-image: url('assets/img/grain2.jpeg');
  background-size: 200px 200px;
  background-repeat: repeat;
  mix-blend-mode: overlay;
  z-index: 100;
}

#vignette {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  background: radial-gradient(ellipse at center, transparent 0%, rgba(0, 0, 0, 0.4) 100%);
  z-index: 101;
}

/* Post FX: Scanlines */
#postfx-scanlines {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 102;
  opacity: var(--scanline-opacity, 0);
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.15) 2px,
    rgba(0, 0, 0, 0.15) 4px
  );
  mix-blend-mode: overlay;
}

/* Post FX: RGB shift / chromatic aberration — subtle colored edges */
#postfx-rgb-shift {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 103;
  opacity: var(--rgb-shift-opacity, 0);
  box-shadow:
    inset 4px 0 12px rgba(255, 0, 0, 0.15),
    inset -4px 0 12px rgba(0, 100, 255, 0.15);
  mix-blend-mode: screen;
}

/* =============================================
   Circle Navigation
   ============================================= */
.circle-nav {
  position: absolute;
  width: 70vmin;
  height: 70vmin;
  top: 50%;
  left: 50%;
  translate: -50% -50%;
  z-index: 20;
  pointer-events: none;
  overflow: visible;
  animation: circleNavSpin 80s linear infinite;
}

.circle-nav-link {
  pointer-events: auto;
  cursor: pointer;
  text-decoration: none;
}

.circle-nav text {
  font-family: 'Monoton', cursive, fantasy;
  font-size: 72px;
  fill: #fff;
  letter-spacing: 6px;
  text-transform: uppercase;
  transition: fill 0.3s ease;
  pointer-events: all;
  cursor: pointer;
}

.circle-nav {
  mix-blend-mode: difference;
}

.circle-nav-link:hover text {
  fill: #FFE066;
}

@keyframes circleNavSpin {
  from { rotate: 0deg; }
  to { rotate: 360deg; }
}


/* Viewport-level hue cycle */
.viewport {
  filter:
    hue-rotate(var(--hue-rotate, 0deg))
    saturate(var(--saturate, 1))
    contrast(var(--contrast, 1))
    brightness(var(--brightness, 1));
}

.artwork {
  position: relative;
  will-change: transform;
  transform: translate3d(0, 0, 0) scale(var(--zoom));
  transform-origin: center center;
  width: var(--artwork-width);
  height: var(--artwork-height);
  display: grid;
  grid-template-columns: repeat(var(--grid-size), 1fr);
  grid-template-rows: repeat(var(--grid-size), 1fr);
  gap: 1px;
  padding: 1px;
  perspective: 1200px;
}

.artwork-item {
  position: relative;
  pointer-events: auto;
  cursor: pointer;
  z-index: 2;
  background-color: transparent;
  transform-style: preserve-3d;
  transition: transform 0.15s ease-out, filter 0.15s ease-out;
  will-change: transform;
  animation: float var(--float-duration, 4s) ease-in-out var(--float-delay, 0s) infinite;
}

.artwork-item:hover {
  z-index: 50;
}

.artwork-item:not(.name-letter):not(.fixed-center) {
  cursor: grab;
}

/* Random spin class applied via JS */
.artwork-item.spinning {
  animation: chaosSpin 0.6s cubic-bezier(0.2, 0.8, 0.3, 1.2) forwards !important;
}

@keyframes chaosSpin {
  0% { transform: perspective(600px) rotateY(0deg) rotateX(0deg) scale(1); }
  40% { transform: perspective(600px) rotateY(240deg) rotateX(15deg) scale(1.15); }
  100% { transform: perspective(600px) rotateY(360deg) rotateX(0deg) scale(1); }
}

/* Name letters — absolutely positioned, scattered across the artwork */
.name-letter {
  position: absolute;
  animation: letterFloat var(--float-duration, 3s) ease-in-out var(--float-delay, 0s) infinite;
  z-index: 10;
}

@keyframes float {
  0%, 100% { transform: translate3d(0, 0, 0) rotateX(0deg) rotateY(0deg); }
  25% { transform: translate3d(0, calc(var(--float-y, -6px)), 0) rotateX(calc(var(--float-rx, 2deg))) rotateY(calc(var(--float-ry, -1deg))); }
  50% { transform: translate3d(calc(var(--float-x, 3px)), calc(var(--float-y, -6px) * -0.5), 0) rotateX(calc(var(--float-rx, 2deg) * -1)) rotateY(calc(var(--float-ry, -1deg) * -1)); }
  75% { transform: translate3d(calc(var(--float-x, 3px) * -1), calc(var(--float-y, -6px) * 0.3), 0) rotateX(calc(var(--float-rx, 2deg) * 0.5)) rotateY(calc(var(--float-ry, -1deg) * 0.7)); }
}

@keyframes letterFloat {
  0%, 100% { transform: translate3d(0, 0, 0) rotate(0deg); }
  33% { transform: translate3d(calc(var(--float-x, 2px)), calc(var(--float-y, -8px)), 0) rotate(calc(var(--float-rot, 3deg))); }
  66% { transform: translate3d(calc(var(--float-x, 2px) * -1), calc(var(--float-y, -8px) * 0.5), 0) rotate(calc(var(--float-rot, 3deg) * -1)); }
}

.artwork-item img,
.artwork-item video,
.artwork-item canvas {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: contain;
  pointer-events: none;
}

/* Grid positioning classes - generated for 24 columns/rows */
.x-1 { grid-column: 1; }
.x-2 { grid-column: 2; }
.x-3 { grid-column: 3; }
.x-4 { grid-column: 4; }
.x-5 { grid-column: 5; }
.x-6 { grid-column: 6; }
.x-7 { grid-column: 7; }
.x-8 { grid-column: 8; }
.x-9 { grid-column: 9; }
.x-10 { grid-column: 10; }
.x-11 { grid-column: 11; }
.x-12 { grid-column: 12; }
.x-13 { grid-column: 13; }
.x-14 { grid-column: 14; }
.x-15 { grid-column: 15; }
.x-16 { grid-column: 16; }
.x-17 { grid-column: 17; }
.x-18 { grid-column: 18; }
.x-19 { grid-column: 19; }
.x-20 { grid-column: 20; }
.x-21 { grid-column: 21; }
.x-22 { grid-column: 22; }
.x-23 { grid-column: 23; }
.x-24 { grid-column: 24; }

.y-1 { grid-row: 1; }
.y-2 { grid-row: 2; }
.y-3 { grid-row: 3; }
.y-4 { grid-row: 4; }
.y-5 { grid-row: 5; }
.y-6 { grid-row: 6; }
.y-7 { grid-row: 7; }
.y-8 { grid-row: 8; }
.y-9 { grid-row: 9; }
.y-10 { grid-row: 10; }
.y-11 { grid-row: 11; }
.y-12 { grid-row: 12; }
.y-13 { grid-row: 13; }
.y-14 { grid-row: 14; }
.y-15 { grid-row: 15; }
.y-16 { grid-row: 16; }
.y-17 { grid-row: 17; }
.y-18 { grid-row: 18; }
.y-19 { grid-row: 19; }
.y-20 { grid-row: 20; }
.y-21 { grid-row: 21; }
.y-22 { grid-row: 22; }
.y-23 { grid-row: 23; }
.y-24 { grid-row: 24; }

/* Width classes */
.w-1 { grid-column-end: span 1; }
.w-2 { grid-column-end: span 2; }
.w-3 { grid-column-end: span 3; }
.w-4 { grid-column-end: span 4; }
.w-5 { grid-column-end: span 5; }
.w-6 { grid-column-end: span 6; }
.w-7 { grid-column-end: span 7; }
.w-8 { grid-column-end: span 8; }
.w-9 { grid-column-end: span 9; }
.w-10 { grid-column-end: span 10; }
.w-11 { grid-column-end: span 11; }
.w-12 { grid-column-end: span 12; }
.w-13 { grid-column-end: span 13; }
.w-14 { grid-column-end: span 14; }
.w-15 { grid-column-end: span 15; }
.w-16 { grid-column-end: span 16; }
.w-17 { grid-column-end: span 17; }
.w-18 { grid-column-end: span 18; }
.w-19 { grid-column-end: span 19; }
.w-20 { grid-column-end: span 20; }
.w-21 { grid-column-end: span 21; }
.w-22 { grid-column-end: span 22; }
.w-23 { grid-column-end: span 23; }
.w-24 { grid-column-end: span 24; }

/* Height classes */
.h-1 { grid-row-end: span 1; }
.h-2 { grid-row-end: span 2; }
.h-3 { grid-row-end: span 3; }
.h-4 { grid-row-end: span 4; }
.h-5 { grid-row-end: span 5; }
.h-6 { grid-row-end: span 6; }
.h-7 { grid-row-end: span 7; }
.h-8 { grid-row-end: span 8; }
.h-9 { grid-row-end: span 9; }
.h-10 { grid-row-end: span 10; }
.h-11 { grid-row-end: span 11; }
.h-12 { grid-row-end: span 12; }
.h-13 { grid-row-end: span 13; }
.h-14 { grid-row-end: span 14; }
.h-15 { grid-row-end: span 15; }
.h-16 { grid-row-end: span 16; }
.h-17 { grid-row-end: span 17; }
.h-18 { grid-row-end: span 18; }
.h-19 { grid-row-end: span 19; }
.h-20 { grid-row-end: span 20; }
.h-21 { grid-row-end: span 21; }
.h-22 { grid-row-end: span 22; }
.h-23 { grid-row-end: span 23; }
.h-24 { grid-row-end: span 24; }